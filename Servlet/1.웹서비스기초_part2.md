## 1. 웹 서비스 기초 (Part 2)

### 3. 서블릿의 이해
- 원칙적으로 ```javax.servlet.Servlet```인터페이스를 구현한 것
- 일반적인 자바 독립 실행 프로그램은 main 메서드(=psvm)가 있어서, 해당 메서드의 시작과 종료가 프로그램의 생명주기와 일치
- 반면 서블릿은 서블릿 컨테이너 내에 등록된 후 서블릿 컨테이너에 의해 생성, 호출, 소멸이 이루어진다.

**Client -> Servlet 흐름**
1. 사용자가 브라우저를 통해 웹 사이트에 접근하면 GET 요청이 브라우저에 의해 HTTP 프로토콜로 변환되어 해당 사이트를 서비스하는 서블릿 컨테이너로 전달
2. HTTP로 전달된 메시지가 서블릿 컨테이너에서 해석 및 재조합되어 프로그래머가 작성한 서블릿으로 전달
3. 해당 서블릿의 매개변수로 ServletRequest와 ServletResponse를 가지는 service 메서드가 호출되며 전달받은 메시지는 ServletRequest 인터페이스를 통해 전달


#### GenericServlet
- 서블릿 인터페이스의 구현체만 있다면 서블릿 컨테이너가 생성, 소멸 등의 생명주기 관리 작업을 수행할 수 있다.
- 서블릿 컨테이너가 서블릿 관리를 위해 필요한 기능은 서블릿 스펙에 모두 정의되어 있으므로 서블릿 명세는 서블릿에 필요한 구현을 미리 작성해 ```GenericServlet```이라는 이름으로 제공한다.
- 이 ```GenericServlet```은 추상 클래스지만 ```void service(ServletRequest req, ServletResponse res)``` 추상 메서드를 제외하고는 모두 구현된 일종의 어댑터 역할을 제공한다.
- 따라서 서블릿을 작성하는 프로그래머들은 서블릿 인터페이스를 구현하는 대신 ```GenericServlet```을 상속하여 사용한다.


#### HttpServlet
- 일반적으로 서블릿이라 하면 거의 대부분 이 ```HttpServlet```을 상속받은 서블릿을 의미한다.
- ```HttpServlet``` 또한 당연히 ```GenericServlet```을 상속받으며, 앞서 언급한 ```void service(ServletRequest req, ServletResponse res)``` 추상 메서드를
<br/> HTTP 프로토콜 요청 메서드에 적합하게 재구현하였다.
- 서블릿 컨테이너는 받은 요청에 대해 서블릿을 선택한 후 Servlet 인터페이스에 정의된 ```void service(ServletRequest req, ServletResponse res)``` 메서드를 호출
- ```HttpServlet.service``` 메서드 내부에서는 HTTP요청 메서드에 의해 여러 ```doXXX``` 메서드로 분기되어 처리
- ```HttpServlet```를 상속받아 프로그래머가 작성한 서블릿은 이 ```doXXX``` 메서드를 다시 오버라이딩하여 HTTP 메서드별로 서로 다른 처리를 수행